<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="ISO-8859-1">
<title>MVC Http Session</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">

</head>

<body>
	<div class="container">
		<h2 class="mb-4">Index</h2>
		<div th:if="${user!=null && user.name!=null}" class="mb-4">
			<h3 th:if="${user.role =='user'}">Utente Loggato</h3>
			<h3 th:if="${user.role =='admin'}">Amministratore Loggato</h3>
			<p>
				Nome: <span th:text="${user.name}"></span>
			</p>
			<p th:inline="text">Email: [[${user.email}]]</p>
		</div>
		<div class="mb-4">Prova a loggarti da due browsers diversi</div>
		<div class="mb-4">
			<a href="/loginpage" class="btn btn-primary">Login</a>
		</div>
		<div class="mb-4">
			<a href="/logout" class="btn btn-primary">Logout</a>
		</div>
	</div>
	<script th:inline="javascript" type="text/javascript">
		/*<![CDATA[*/
		let user = /*[[${user}]]*/'User Name';
		console.log(user);
		/*]]>*/
	</script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

</body>
</html>